<div class="encomendas-container">
  <h2>Listar Encomendas por Cliente</h2>

  <form (ngSubmit)="loadEncomendas()">
    <input
      type="number"
      id="clienteId"
      [(ngModel)]="clienteId"
      name="clienteId"
      placeholder="Insira o NIF do cliente"
      [value]="clienteId === null ? '' : clienteId"
      required
    />
    <button type="submit">Carregar Encomendas</button>
  </form>

  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <div *ngIf="isSubmitted && encomendas.length > 0; else noEncomendas">
    <ul>
      <li *ngFor="let encomenda of encomendas">
        <strong>Data:</strong> {{ encomenda.data }} <br />
        <strong>Refeição ID:</strong> {{ encomenda.refeicao }} <br />
        <strong>Valor:</strong> {{ encomenda.valor }}
      </li>
    </ul>
  </div>

  <ng-template #noEncomendas>
    <p *ngIf="isSubmitted && encomendas.length === 0">
      Nenhuma encomenda encontrada para o cliente.
    </p>
  </ng-template>
</div>
